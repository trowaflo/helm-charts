should compute fullnameOverride correctly:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: service-name-override
        helm.sh/chart: common-test-0.1.0
      name: my-service-main
      namespace: common-test-namespace-override-test
    spec:
      ports:
        - name: main
          port: 80
          protocol: TCP
          targetPort: main
      selector:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/name: service-name-override
      type: ClusterIP
should compute nameOverride correctly:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: custom
        helm.sh/chart: common-test-0.1.0
      name: common-test-custom-main
      namespace: common-test-namespace-override-test
    spec:
      ports:
        - name: main
          port: 80
          protocol: TCP
          targetPort: main
      selector:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/name: custom
      type: ClusterIP
should have all defined service type and ports:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: service-name-override
        helm.sh/chart: common-test-0.1.0
      name: common-test-service-name-override-extra
      namespace: common-test-namespace-override-test
    spec:
      ports:
        - name: http
          port: 8080
          protocol: TCP
          targetPort: http
        - name: metrics
          port: 9100
          protocol: UDP
          targetPort: metrics
      selector:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/name: service-name-override
      type: LoadBalancer
should have the correct service type:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: service-name-override
        helm.sh/chart: common-test-0.1.0
      name: common-test-service-name-override-main
      namespace: common-test-namespace-override-test
    spec:
      ports:
        - name: main
          port: 80
          protocol: TCP
          targetPort: main
      selector:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/name: service-name-override
      type: LoadBalancer
should match snapshot with default values:
  1: |
    apiVersion: v1
    kind: Service
    metadata:
      labels:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/managed-by: Helm
        app.kubernetes.io/name: service-name-override
        helm.sh/chart: common-test-0.1.0
      name: common-test-service-name-override-main
      namespace: common-test-namespace-override-test
    spec:
      ports:
        - name: main
          port: 80
          protocol: TCP
          targetPort: main
      selector:
        app.kubernetes.io/instance: common-test
        app.kubernetes.io/name: service-name-override
      type: ClusterIP
