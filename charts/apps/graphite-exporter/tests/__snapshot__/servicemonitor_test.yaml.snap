should match ServiceMonitor with correct metric relabelings:
  1: |
    apiVersion: monitoring.coreos.com/v1
    kind: ServiceMonitor
    metadata:
      labels:
        release: prometheus
      name: graphite-exporter-testing-name-override-test
      namespace: graphite-exporter-testing-namespace-override-test
    spec:
      endpoints:
        - metricRelabelings:
            - action: keep
              regex: ^(scale_.*)
              sourceLabels:
                - __name__
            - action: replace
              regex: ^scale_([^_]+)_.*
              replacement: ${1}
              sourceLabels:
                - __name__
              targetLabel: hostname
            - action: replace
              regex: ^scale_[^_]+_([^_]+)_.*
              replacement: ${1}
              sourceLabels:
                - __name__
              targetLabel: service
            - action: replace
              regex: ^.*_cpu_cpu([0-9]+)
              replacement: cpu${1}
              sourceLabels:
                - __name__
              targetLabel: cpu
            - action: replace
              regex: ^.*_cputemp_temperatures_cpu([0-9]+)
              replacement: cpu${1}
              sourceLabels:
                - __name__
              targetLabel: cpu
            - action: replace
              regex: ^.*_net_speed_([^_]+)_[^_\n]+
              replacement: ${1}
              sourceLabels:
                - __name__
              targetLabel: interface
            - action: replace
              regex: ^(.*_net_speed).*
              replacement: ${1}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(scale_truenas)_truenas_(.*)$
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^scale_[^_]+_(.*)
              replacement: truenas_${1}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(uptime)_uptime
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(cpu)_cpu([0-9]+)?
              replacement: ${1}_${2}${3}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(total)_total
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(available)_available
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(size)_size
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(avail)_avail
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(free)_free
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(l2bytes)_l2bytes
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(l2hits)_l2hits
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(l2miss)_l2miss
              replacement: ${1}_${2}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: replace
              regex: ^(.*)_(load)_load(1|5|15)
              replacement: ${1}_${2}${3}
              sourceLabels:
                - __name__
              targetLabel: __name__
            - action: keep
              regex: truenas_(system_uptime.*|cpu_usage.*|cputemp.*|system_load.*|meminfo.*|arcstats.*|net_.*(speed|received|sent).*|disk_stats_busy__serial_lunid.*)
              sourceLabels:
                - __name__
          port: main
      selector:
        matchLabels:
          app.kubernetes.io/instance: graphite-exporter-testing
          app.kubernetes.io/name: name-override-test
