# Example values file showing persistent-volume chart features
# This demonstrates various PersistentVolume and PersistentVolumeClaim configurations

# ============================================================================
# PERSISTENT VOLUMES EXAMPLES
# ============================================================================

persistentVolumes:
  # Example 1: Simple hostPath volume for local development
  local-data:
    enabled: true
    capacity: 10Gi
    accessModes:
      - ReadWriteOnce
    persistentVolumeReclaimPolicy: Retain
    hostPath:
      path: /mnt/data
      type: DirectoryOrCreate

  # Example 2: NFS volume with custom storage class
  nfs-shared:
    enabled: true
    capacity: 100Gi
    accessModes:
      - ReadWriteMany
    storageClassName: nfs
    persistentVolumeReclaimPolicy: Retain
    mountOptions:
      - hard
      - nfsvers=4.1
    nfs:
      server: nfs-server.example.com
      path: /export/shared

  # Example 3: Volume with labels and annotations
  media-storage:
    enabled: true
    capacity: 500Gi
    accessModes:
      - ReadWriteMany
    storageClassName: media
    persistentVolumeReclaimPolicy: Retain
    labels:
      app: media-server
      tier: storage
      backup: daily
    annotations:
      backup.velero.io/backup-volumes: "true"
      description: "Media storage for streaming services"
    nfs:
      server: nas.local
      path: /media

  # Example 4: hostPath with node affinity (for specific node)
  node-specific-storage:
    enabled: true
    capacity: 50Gi
    accessModes:
      - ReadWriteOnce
    persistentVolumeReclaimPolicy: Delete
    nodeAffinity:
      required:
        nodeSelectorTerms:
          - matchExpressions:
              - key: kubernetes.io/hostname
                operator: In
                values:
                  - node-01
    hostPath:
      path: /mnt/local-storage
      type: DirectoryOrCreate

# ============================================================================
# PERSISTENT VOLUME CLAIMS EXAMPLES
# ============================================================================

persistentVolumeClaims:
  # Example 1: Basic PVC using dynamic provisioning
  app-data:
    enabled: true
    storageClassName: standard
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 10Gi

  # Example 2: PVC bound to a specific PV (manual binding)
  bound-to-local:
    enabled: true
    volumeName: local-data  # References the PV name above
    storageClassName: ""    # Empty string disables dynamic provisioning
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 10Gi

  # Example 3: PVC with custom namespace and labels
  shared-cache:
    enabled: true
    namespace: cache-system
    storageClassName: fast-ssd
    accessModes:
      - ReadWriteMany
    resources:
      requests:
        storage: 50Gi
    labels:
      app: cache
      component: storage
      performance: high
    annotations:
      volume.beta.kubernetes.io/storage-class: "fast-ssd"

  # Example 4: PVC with specific selector (to match PV with specific labels)
  selective-binding:
    enabled: true
    storageClassName: ""
    accessModes:
      - ReadWriteMany
    resources:
      requests:
        storage: 100Gi
    selector:
      matchLabels:
        app: media-server
        tier: storage

  # Example 5: PVC requesting specific volume mode
  block-storage:
    enabled: true
    storageClassName: block-storage
    volumeMode: Block  # Block mode instead of Filesystem
    accessModes:
      - ReadWriteOnce
    resources:
      requests:
        storage: 20Gi
