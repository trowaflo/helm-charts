# Gateway configuration
# Define multiple gateways by adding entries with any key name
# @default -- See values.yaml for examples
gateways:
  # Example: Public gateway configuration
  public:
    # -- Enable this gateway
    enabled: true
    # -- Custom name for the gateway (defaults to "<release-name>-<key>")
    name: ""
    # -- IP slot label for the gateway service
    ipSlot: public
    # -- IP address of the gateway. MUST be set by the chart consumer.
    address: ""
  # Example: Private gateway configuration
  private:
    # -- Enable this gateway
    enabled: true
    # -- Custom name for the gateway (defaults to "<release-name>-<key>")
    name: ""
    # -- IP slot label for the gateway service
    ipSlot: private
    # -- IP address of the gateway. MUST be set by the chart consumer.
    address: ""

# TLS secret configuration for gateway HTTPS listeners
tlsSecret:
  # -- Name of the TLS secret to use for gateways. MUST be set by the chart consumer.
  name: ""
  # -- Namespace where the TLS secret is located. If set and different from the chart namespace, a ReferenceGrant will be created. Leave empty to use the same namespace as the chart.
  namespace: ""

# HTTP listener policy configuration (WebSocket upgrade support)
httpListenerPolicy:
  # -- Enable HTTPListenerPolicy
  enabled: true
  # -- Target gateway key from gateways map (defaults to "public")
  targetGateway: "public"
  # -- Custom name for the HTTPListenerPolicy (defaults to "<target-gateway-name>-websocket-upgrade")
  name: ""
  # -- List of enabled protocol upgrades (e.g., websocket)
  enabledUpgrades:
    - websocket

# kgateway-crds subchart configuration
kgateway-crds:
  # -- Enable installation of kgateway CRDs
  enabled: false

# kgateway subchart configuration
kgateway:
  # -- Enable installation of kgateway controller
  enabled: false
