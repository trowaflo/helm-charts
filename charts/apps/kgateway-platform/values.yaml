# Gateway configuration
# Define multiple gateways by adding entries with any key name
# Each gateway entry should have: enabled, name (optional), ipSlot, and address
# See tests/ directory for configuration examples
# @default -- {} (empty, user must configure gateways)
gateways: {}
  # Example configurations (uncomment and modify as needed):
  # public:
  #   enabled: true
  #   name: ""  # defaults to "<release-name>-public"
  #   ipSlot: public  # Used for Cilium LoadBalancerIPPool selector
  #   address: "192.168.1.1"  # REQUIRED: Gateway IP address
  # private:
  #   enabled: true
  #   name: ""  # defaults to "<release-name>-private"
  #   ipSlot: private
  #   address: "192.168.1.2"

# TLS secret configuration for gateway HTTPS listeners
tlsSecret:
  # -- Name of the TLS secret to use for gateways. MUST be set by the chart consumer.
  name: ""
  # -- Namespace where the TLS secret is located. Leave empty to use the same namespace as the chart. Note: Cross-namespace secret references require a ReferenceGrant in the secret's namespace (managed by cert-manager chart, not this chart).
  namespace: ""

# HTTP listener policy configuration (WebSocket upgrade support)
httpListenerPolicy:
  # -- Enable HTTPListenerPolicy
  enabled: true
  # -- Target gateway key from gateways map (defaults to "public")
  targetGateway: "public"
  # -- Custom name for the HTTPListenerPolicy (defaults to "<target-gateway-name>-websocket-upgrade")
  name: ""
  # -- List of enabled protocol upgrades (e.g., websocket)
  enabledUpgrades:
    - websocket

# kgateway-crds subchart configuration
kgateway-crds:
  # -- Enable installation of kgateway CRDs (required for Gateway API resources)
  enabled: true

# kgateway subchart configuration
kgateway:
  # -- Enable installation of kgateway controller (required for Gateway functionality)
  enabled: true
